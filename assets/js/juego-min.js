let a,e,t=[],o=0;const r=["C","D","H","S"],s=["A","J","Q","K"],n=document.querySelector("#btnPedir"),d=document.querySelector("#btnDetener"),l=document.querySelectorAll("small"),u=document.querySelector("#jugador-cartas"),p=document.querySelector("#computadora-cartas"),c=document.querySelector("#btnNuevo"),i=()=>{if(0!=t.length)return t.pop();throw alert("No hay cartas en el deck"),"No hay cartas en el deck"},m=a=>{const e=a.substring(0,a.length-1);return isNaN(e)?"A"===e?11:10:parseInt(e)},C=t=>{puntosComputadora=0;do{a=i(),valorCartaR=m(a),puntosComputadora+=valorCartaR,(e=document.createElement("img")).src=`assets/cartas/${a}.png`,e.classList="carta",p.append(e),l[1].innerText=puntosComputadora}while(t>puntosComputadora&&puntosComputadora<21);t>21&&puntosComputadora<=21?alert("Gano la computadora"):21==t&&21==puntosComputadora?alert("Empate"):t>21&&puntosComputadora<t?alert("Gano la computadora"):t>21&&t<puntosComputadora?alert("Gano el Jugador"):t<21&&puntosComputadora>21?alert("Gano Juagdor"):puntosComputadora==t?alert("Empataron"):t<21&&puntosComputadora>t&&puntosComputadora<=21&&alert("Gano la computadora")};t=(()=>{for(let a=2;a<=10;a++)for(tipo of r)t.push(a+tipo);for(tipo of r)for(especial of s)t.push(especial+tipo);return _.shuffle(t)})(),n.addEventListener("click",()=>{o>21?(n.disabled=!0,alert("Perdiste. Te pasaste de 21 puntos"),d.disabled=!0,C(o)):21===o?(n.disabled=!0,alert("Genial. Tienes 21 puntos"),d.disabled=!0,C(o)):(a=i(),valorCartaR=m(a),o+=valorCartaR,n.disabled=o>=21,(e=document.createElement("img")).src=`assets/cartas/${a}.png`,e.classList="carta",u.append(e),l[0].innerText=o,n.disabled&&(21===o?(alert("Genial. Tienes 21 puntos"),d.disabled=!0,C(o)):(alert("Perdiste. Te pasaste de 21 puntos"),d.disabled=!0,C(o))))}),d.addEventListener("click",()=>{d.disabled=!0,n.disabled=!0,C(o)}),c.addEventListener("click",()=>{location.reload()})